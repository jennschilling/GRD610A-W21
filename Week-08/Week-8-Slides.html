<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>GRD 610A Data Visualization II</title>
    <meta charset="utf-8" />
    <meta name="author" content="Jenn Schilling" />
    <meta name="date" content="2021-03-10" />
    <script src="Week-8-Slides_files/header-attrs/header-attrs.js"></script>
    <link href="Week-8-Slides_files/countdown/countdown.css" rel="stylesheet" />
    <script src="Week-8-Slides_files/countdown/countdown.js"></script>
    <script src="Week-8-Slides_files/htmlwidgets/htmlwidgets.js"></script>
    <script src="Week-8-Slides_files/jquery/jquery.min.js"></script>
    <link href="Week-8-Slides_files/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
    <script src="Week-8-Slides_files/datatables-binding/datatables.js"></script>
    <link href="Week-8-Slides_files/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="Week-8-Slides_files/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="Week-8-Slides_files/dt-core/js/jquery.dataTables.min.js"></script>
    <link href="Week-8-Slides_files/dt-ext-fixedcolumns/css/fixedColumns.dataTables.min.css" rel="stylesheet" />
    <script src="Week-8-Slides_files/dt-ext-fixedcolumns/js/dataTables.fixedColumns.min.js"></script>
    <link href="Week-8-Slides_files/crosstalk/css/crosstalk.css" rel="stylesheet" />
    <script src="Week-8-Slides_files/crosstalk/js/crosstalk.min.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="bottom-note.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# GRD 610A Data Visualization II
## Maps
### Jenn Schilling
### March 10, 2021

---






&lt;style type="text/css"&gt;

.remark-code{line-height: 1.5; font-size: 80%} # smaller code font size

&lt;/style&gt;

# Today

- Data Visualization of the Week  

- Discussion of Chapter 5: Basic Principles of Visualization in *The Truthful Art* (Cairo)  

- Lab on basics of mapping and options for visualizing data on a map  
(Chapter 7 of *Data Visualization* by Healy)  

- Homework Assignment #4


---

# Basic Principles of Visualization

**"How do you know that you have chosen the right graphic form to represent your data?"**

.bottom-note[
(Cairo, 2016, pp. 121, 124-125)
]

--

1. "Think about the task or tasks you want to enable, or the messages that you wish to convey."

???
What relationships and comparisons do you want the viewer to make  


--

2. "Try different graphic forms."

--

3. "Arrange the components of the graphic so as to make it as easy as possible to extract meaning from it."

???
Consider adding interactivity, if possible


--

4. "Test the outcomes"


???
View the graph yourself and with other people to see what conclusions they draw from your graphic

--

**Resources**
- [The Data Visualisation Catalogue](https://datavizcatalogue.com/)  

- [Interactive Chart Chooser](https://depictdatastudio.com/charts/)  

- Scaled of elementary perceptual tasks (Cairo, 2016, p. 128) 



???
"if you wish to create a successful chart, you need to construct it based on elementary tasks "as high in the hierarchy as possible"...Area, color, and angle are much less effective than those graphic forms based on positioning objects on common scales." (Cairo, 2016, p. 129)

"Methods of encoding on the bottom half of the scale may be appropriate when the goal isn't to enable accurate judgments but to reveal general patterns." (Cairo, 2016, p. 129) - Figure 5.6 example of a map shaded by unemployment rates that allows you to see general patterns in the U.S. by state rather than make comparisons by county.

It depends on the message you want to convey and the way that you want the viewer to interact with the data; think about the comparisons you want the user to make

---

# Basic Principles of Visualization

**A Couple of General Rules:**

- Always plot your data directly  

- Use logical and meaningful baselines

.bottom-center[
.center[
*"rules of visualization matter as much as the results of the tests you may conduct with readers"*

*"very often readers don't interpret our visualizations as we want them to"*
]
]

.bottom-note[
(Cairo, 2016, pp. 134, 136, 146)
]

???

- But also plot what matters most (i.e. if the difference matters more, plot it)

- Consider using multiple plots if the data vary a lot; 0 is not always necessary as the baseline

- Think about what you're trying to show and how in order to determine how to organize your data in a chart

---

# Basic Principles of Visualization

- What principles did you take away from this chapter?

--
 
- How will you apply these principles to create visualizations? 

--

.bottom-center[
*"The way data is visually presented has very real consequences on the lives of people who read your visualizations."*
]
 
.bottom-note[
(Cairo, 2016, p. 148)
]

---

class: center, middle

# 15 Minute Break

<div class="countdown" id="timer_6029b9af" style="right:37%;bottom:25%;" data-warnwhen="60">
<code class="countdown-time"><span class="countdown-digits minutes">15</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---

# New Dataset

**2016 U.S. Presidential Election Data**

.center[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; state &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; total_vote &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; r_points &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; pct_trump &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; party &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; census &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; New Jersey &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3906723 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -13.99 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 41.00 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Democratic &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Northeast &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Arizona &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2604657 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 48.08 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Republican &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; West &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Minnesota &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2945233 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -1.51 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 44.93 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Democratic &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Midwest &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Oregon &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2001336 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -10.98 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 39.09 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Democratic &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; West &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Utah &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1143601 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.88 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 45.05 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Republican &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; West &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Virginia &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3982752 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -5.32 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 44.43 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Democratic &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; South &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Florida &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9502747 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.19 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 48.60 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Republican &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; South &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Indiana &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2757965 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 19.01 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 56.47 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Republican &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Midwest &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Maryland &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2781446 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.42 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 33.91 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Democratic &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; South &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Idaho &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 690433 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 31.77 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 59.25 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Republican &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; West &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

???

New dataset, note that we're only looking at some of the available columns

---





count: false
 
# Election Data Dot Plot
.panel1-election-plot-auto[

```r
*party_colors &lt;- c("#2E74C0", "#CB454A")
```
]
 
.panel2-election-plot-auto[

]

---
count: false
 
# Election Data Dot Plot
.panel1-election-plot-auto[

```r
party_colors &lt;- c("#2E74C0", "#CB454A")

*ggplot(data = subset(election, st %nin% "DC"),
*            mapping = aes(x = r_points,
*                          y = reorder(state, r_points),
*                          color = party))
```
]
 
.panel2-election-plot-auto[
&lt;img src="Week-8-Slides_files/figure-html/election-plot_auto_02_output-1.png" width="504" /&gt;
]

---
count: false
 
# Election Data Dot Plot
.panel1-election-plot-auto[

```r
party_colors &lt;- c("#2E74C0", "#CB454A")

ggplot(data = subset(election, st %nin% "DC"),
             mapping = aes(x = r_points,
                           y = reorder(state, r_points),
                           color = party)) +
* geom_vline(xintercept = 0, color = "gray30")
```
]
 
.panel2-election-plot-auto[
&lt;img src="Week-8-Slides_files/figure-html/election-plot_auto_03_output-1.png" width="504" /&gt;
]

---
count: false
 
# Election Data Dot Plot
.panel1-election-plot-auto[

```r
party_colors &lt;- c("#2E74C0", "#CB454A")

ggplot(data = subset(election, st %nin% "DC"),
             mapping = aes(x = r_points,
                           y = reorder(state, r_points),
                           color = party)) +
  geom_vline(xintercept = 0, color = "gray30") +
* geom_point(size = 2)
```
]
 
.panel2-election-plot-auto[
&lt;img src="Week-8-Slides_files/figure-html/election-plot_auto_04_output-1.png" width="504" /&gt;
]

---
count: false
 
# Election Data Dot Plot
.panel1-election-plot-auto[

```r
party_colors &lt;- c("#2E74C0", "#CB454A")

ggplot(data = subset(election, st %nin% "DC"),
             mapping = aes(x = r_points,
                           y = reorder(state, r_points),
                           color = party)) +
  geom_vline(xintercept = 0, color = "gray30") +
  geom_point(size = 2) +
* scale_color_manual(values = party_colors)
```
]
 
.panel2-election-plot-auto[
&lt;img src="Week-8-Slides_files/figure-html/election-plot_auto_05_output-1.png" width="504" /&gt;
]

---
count: false
 
# Election Data Dot Plot
.panel1-election-plot-auto[

```r
party_colors &lt;- c("#2E74C0", "#CB454A")

ggplot(data = subset(election, st %nin% "DC"),
             mapping = aes(x = r_points,
                           y = reorder(state, r_points),
                           color = party)) +
  geom_vline(xintercept = 0, color = "gray30") +
  geom_point(size = 2) +
  scale_color_manual(values = party_colors) +
* scale_x_continuous(breaks = c(-30, -20, -10, 0, 10, 20, 30, 40),
*                             labels = c("30\n(Clinton)",
*                                        "20", "10", "0",
*                                        "10", "20", "30",
*                                        "40\n(Trump)"))
```
]
 
.panel2-election-plot-auto[
&lt;img src="Week-8-Slides_files/figure-html/election-plot_auto_06_output-1.png" width="504" /&gt;
]

---
count: false
 
# Election Data Dot Plot
.panel1-election-plot-auto[

```r
party_colors &lt;- c("#2E74C0", "#CB454A")

ggplot(data = subset(election, st %nin% "DC"),
             mapping = aes(x = r_points,
                           y = reorder(state, r_points),
                           color = party)) +
  geom_vline(xintercept = 0, color = "gray30") +
  geom_point(size = 2) +
  scale_color_manual(values = party_colors) +
  scale_x_continuous(breaks = c(-30, -20, -10, 0, 10, 20, 30, 40),
                              labels = c("30\n(Clinton)",
                                         "20", "10", "0",
                                         "10", "20", "30",
                                         "40\n(Trump)")) +
* facet_wrap(~ census, ncol = 1, scales = "free_y")
```
]
 
.panel2-election-plot-auto[
&lt;img src="Week-8-Slides_files/figure-html/election-plot_auto_07_output-1.png" width="504" /&gt;
]

---
count: false
 
# Election Data Dot Plot
.panel1-election-plot-auto[

```r
party_colors &lt;- c("#2E74C0", "#CB454A")

ggplot(data = subset(election, st %nin% "DC"),
             mapping = aes(x = r_points,
                           y = reorder(state, r_points),
                           color = party)) +
  geom_vline(xintercept = 0, color = "gray30") +
  geom_point(size = 2) +
  scale_color_manual(values = party_colors) +
  scale_x_continuous(breaks = c(-30, -20, -10, 0, 10, 20, 30, 40),
                              labels = c("30\n(Clinton)",
                                         "20", "10", "0",
                                         "10", "20", "30",
                                         "40\n(Trump)")) +
  facet_wrap(~ census, ncol = 1, scales = "free_y") +
* guides(color = FALSE)
```
]
 
.panel2-election-plot-auto[
&lt;img src="Week-8-Slides_files/figure-html/election-plot_auto_08_output-1.png" width="504" /&gt;
]

---
count: false
 
# Election Data Dot Plot
.panel1-election-plot-auto[

```r
party_colors &lt;- c("#2E74C0", "#CB454A")

ggplot(data = subset(election, st %nin% "DC"),
             mapping = aes(x = r_points,
                           y = reorder(state, r_points),
                           color = party)) +
  geom_vline(xintercept = 0, color = "gray30") +
  geom_point(size = 2) +
  scale_color_manual(values = party_colors) +
  scale_x_continuous(breaks = c(-30, -20, -10, 0, 10, 20, 30, 40),
                              labels = c("30\n(Clinton)",
                                         "20", "10", "0",
                                         "10", "20", "30",
                                         "40\n(Trump)")) +
  facet_wrap(~ census, ncol = 1, scales = "free_y") +
  guides(color = FALSE) +
* labs(x = "Point Margin",
*      y = "")
```
]
 
.panel2-election-plot-auto[
&lt;img src="Week-8-Slides_files/figure-html/election-plot_auto_09_output-1.png" width="504" /&gt;
]

---
count: false
 
# Election Data Dot Plot
.panel1-election-plot-auto[

```r
party_colors &lt;- c("#2E74C0", "#CB454A")

ggplot(data = subset(election, st %nin% "DC"),
             mapping = aes(x = r_points,
                           y = reorder(state, r_points),
                           color = party)) +
  geom_vline(xintercept = 0, color = "gray30") +
  geom_point(size = 2) +
  scale_color_manual(values = party_colors) +
  scale_x_continuous(breaks = c(-30, -20, -10, 0, 10, 20, 30, 40),
                              labels = c("30\n(Clinton)",
                                         "20", "10", "0",
                                         "10", "20", "30",
                                         "40\n(Trump)")) +
  facet_wrap(~ census, ncol = 1, scales = "free_y") +
  guides(color = FALSE) +
  labs(x = "Point Margin",
       y = "") +
* theme(axis.text = element_text(size = 8))
```
]
 
.panel2-election-plot-auto[
&lt;img src="Week-8-Slides_files/figure-html/election-plot_auto_10_output-1.png" width="504" /&gt;
]

---
count: false
 
# Election Data Dot Plot
.panel1-election-plot-auto[

```r
party_colors &lt;- c("#2E74C0", "#CB454A")

ggplot(data = subset(election, st %nin% "DC"),
             mapping = aes(x = r_points,
                           y = reorder(state, r_points),
                           color = party)) +
  geom_vline(xintercept = 0, color = "gray30") +
  geom_point(size = 2) +
  scale_color_manual(values = party_colors) +
  scale_x_continuous(breaks = c(-30, -20, -10, 0, 10, 20, 30, 40),
                              labels = c("30\n(Clinton)",
                                         "20", "10", "0",
                                         "10", "20", "30",
                                         "40\n(Trump)")) +
  facet_wrap(~ census, ncol = 1, scales = "free_y") +
  guides(color = FALSE) +
  labs(x = "Point Margin",
       y = "") +
  theme(axis.text = element_text(size = 8)) +
* theme_minimal()
```
]
 
.panel2-election-plot-auto[
&lt;img src="Week-8-Slides_files/figure-html/election-plot_auto_11_output-1.png" width="504" /&gt;
]

---
count: false
 
# Election Data Dot Plot
.panel1-election-plot-auto[

```r
party_colors &lt;- c("#2E74C0", "#CB454A")

ggplot(data = subset(election, st %nin% "DC"),
             mapping = aes(x = r_points,
                           y = reorder(state, r_points),
                           color = party)) +
  geom_vline(xintercept = 0, color = "gray30") +
  geom_point(size = 2) +
  scale_color_manual(values = party_colors) +
  scale_x_continuous(breaks = c(-30, -20, -10, 0, 10, 20, 30, 40),
                              labels = c("30\n(Clinton)",
                                         "20", "10", "0",
                                         "10", "20", "30",
                                         "40\n(Trump)")) +
  facet_wrap(~ census, ncol = 1, scales = "free_y") +
  guides(color = FALSE) +
  labs(x = "Point Margin",
       y = "") +
  theme(axis.text = element_text(size = 8)) +
  theme_minimal()
```
]
 
.panel2-election-plot-auto[
&lt;img src="Week-8-Slides_files/figure-html/election-plot_auto_12_output-1.png" width="504" /&gt;
]

&lt;style&gt;
.panel1-election-plot-auto {
  color: black;
  width: 49%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-election-plot-auto {
  color: black;
  width: 49%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-election-plot-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;



???

Set colors for Democratic and Republican parties

Create a plot of the elections data in a faceted dot plot

---

# Mapping U.S. States

**Get Data for Drawing the States**


```r
library(maps)

us_states &lt;- map_data("state")
```


.center[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; long &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; lat &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; group &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; order &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; region &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; subregion &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; -87.46201 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30.38968 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; alabama &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; -87.48493 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30.37249 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; alabama &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; -87.52503 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30.37249 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; alabama &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; -87.53076 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30.33239 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; alabama &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; -87.57087 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30.32665 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; alabama &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; -87.58806 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30.32665 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; alabama &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

???

states from the `map` package provides latitude and longitude information; region is the state name

We'll see the same thing for U.S. county data later in Chapter 7

---p



count: false
 
# Mapping U.S. States: Plot the States
.panel1-plot-states-auto[

```r
*ggplot(data = us_states,
*           mapping = aes(x = long,
*                         y = lat,
*                         group = group,
*                         fill = region))
```
]
 
.panel2-plot-states-auto[
&lt;img src="Week-8-Slides_files/figure-html/plot-states_auto_01_output-1.png" width="504" /&gt;
]

---
count: false
 
# Mapping U.S. States: Plot the States
.panel1-plot-states-auto[

```r
ggplot(data = us_states,
            mapping = aes(x = long,
                          y = lat,
                          group = group,
                          fill = region)) +
* guides(fill = FALSE)
```
]
 
.panel2-plot-states-auto[
&lt;img src="Week-8-Slides_files/figure-html/plot-states_auto_02_output-1.png" width="504" /&gt;
]

---
count: false
 
# Mapping U.S. States: Plot the States
.panel1-plot-states-auto[

```r
ggplot(data = us_states,
            mapping = aes(x = long,
                          y = lat,
                          group = group,
                          fill = region)) +
  guides(fill = FALSE) +
* geom_polygon(color = "gray90",
*               size = 0.1)
```
]
 
.panel2-plot-states-auto[
&lt;img src="Week-8-Slides_files/figure-html/plot-states_auto_03_output-1.png" width="504" /&gt;
]

---
count: false
 
# Mapping U.S. States: Plot the States
.panel1-plot-states-auto[

```r
ggplot(data = us_states,
            mapping = aes(x = long,
                          y = lat,
                          group = group,
                          fill = region)) +
  guides(fill = FALSE) +
  geom_polygon(color = "gray90",
                size = 0.1) +
* coord_map(projection = "albers",
*           lat0 = 39,
*           lat1 = 45)
```
]
 
.panel2-plot-states-auto[
&lt;img src="Week-8-Slides_files/figure-html/plot-states_auto_04_output-1.png" width="504" /&gt;
]

&lt;style&gt;
.panel1-plot-states-auto {
  color: black;
  width: 49%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-plot-states-auto {
  color: black;
  width: 49%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-plot-states-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;



---

# Mapping U.S. States

**Join State Data to Election Data**




&lt;code class ='r hljs remark-code'&gt;election$region &lt;- tolower(election$state)&lt;br&gt;&lt;br&gt;us_states_elec &lt;- &lt;span style='background-color:#ffff7f'&gt;left_join&lt;/span&gt;(us_states, election, by = "region")&lt;/code&gt;

.center[
<div id="htmlwidget-b803fab99eadc5b99fdd" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-b803fab99eadc5b99fdd">{"x":{"filter":"none","extensions":["FixedColumns"],"data":[["1","2","3","4","5","6"],[-87.4620056152344,-87.4849319458008,-87.525032043457,-87.53076171875,-87.5708694458008,-87.5880584716797],[30.3896808624268,30.3724918365479,30.3724918365479,30.3323860168457,30.3266544342041,30.3266544342041],[1,1,1,1,1,1],[1,2,3,4,5,6],["alabama","alabama","alabama","alabama","alabama","alabama"],[null,null,null,null,null,null],["Alabama","Alabama","Alabama","Alabama","Alabama","Alabama"],["AL","AL","AL","AL","AL","AL"],[1,1,1,1,1,1],[2123372,2123372,2123372,2123372,2123372,2123372],[588708,588708,588708,588708,588708,588708],["Trump","Trump","Trump","Trump","Trump","Trump"],["Republican","Republican","Republican","Republican","Republican","Republican"],[0.2773,0.2773,0.2773,0.2773,0.2773,0.2773],[27.72,27.72,27.72,27.72,27.72,27.72],[-27.72,-27.72,-27.72,-27.72,-27.72,-27.72],[34.36,34.36,34.36,34.36,34.36,34.36],[62.08,62.08,62.08,62.08,62.08,62.08],[2.09,2.09,2.09,2.09,2.09,2.09],[1.46,1.46,1.46,1.46,1.46,1.46],[729547,729547,729547,729547,729547,729547],[1318255,1318255,1318255,1318255,1318255,1318255],[44467,44467,44467,44467,44467,44467],[31103,31103,31103,31103,31103,31103],[0,0,0,0,0,0],[9,9,9,9,9,9],[0,0,0,0,0,0],["South","South","South","South","South","South"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>long<\/th>\n      <th>lat<\/th>\n      <th>group<\/th>\n      <th>order<\/th>\n      <th>region<\/th>\n      <th>subregion<\/th>\n      <th>state<\/th>\n      <th>st<\/th>\n      <th>fips<\/th>\n      <th>total_vote<\/th>\n      <th>vote_margin<\/th>\n      <th>winner<\/th>\n      <th>party<\/th>\n      <th>pct_margin<\/th>\n      <th>r_points<\/th>\n      <th>d_points<\/th>\n      <th>pct_clinton<\/th>\n      <th>pct_trump<\/th>\n      <th>pct_johnson<\/th>\n      <th>pct_other<\/th>\n      <th>clinton_vote<\/th>\n      <th>trump_vote<\/th>\n      <th>johnson_vote<\/th>\n      <th>other_vote<\/th>\n      <th>ev_dem<\/th>\n      <th>ev_rep<\/th>\n      <th>ev_oth<\/th>\n      <th>census<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"t","scrollX":true,"scrollCollapse":true,"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,9,10,11,14,15,16,17,18,19,20,21,22,23,24,25,26,27]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
]

???

Recall that we have a data table of election data and a data table of U.S. states

First, we need to lowercase the state names and put them in a column called "region", to match the mapping data

Now we can join the datasets together using the common region column

---



count: false
 
#Election Data Map
.panel1-plot-state-election-auto[

```r
*ggplot(data = us_states_elec,
*      mapping = aes(x = long,
*                    y = lat,
*                    group = group,
*                    fill = r_points))
```
]
 
.panel2-plot-state-election-auto[
&lt;img src="Week-8-Slides_files/figure-html/plot-state-election_auto_01_output-1.png" width="504" /&gt;
]

---
count: false
 
#Election Data Map
.panel1-plot-state-election-auto[

```r
ggplot(data = us_states_elec,
       mapping = aes(x = long,
                     y = lat,
                     group = group,
                     fill = r_points)) +
* geom_polygon(color = "gray90",
*              size = 0.1)
```
]
 
.panel2-plot-state-election-auto[
&lt;img src="Week-8-Slides_files/figure-html/plot-state-election_auto_02_output-1.png" width="504" /&gt;
]

---
count: false
 
#Election Data Map
.panel1-plot-state-election-auto[

```r
ggplot(data = us_states_elec,
       mapping = aes(x = long,
                     y = lat,
                     group = group,
                     fill = r_points)) +
  geom_polygon(color = "gray90",
               size = 0.1) +
* coord_map(projection = "albers",
*           lat0 = 39,
*           lat1 = 45)
```
]
 
.panel2-plot-state-election-auto[
&lt;img src="Week-8-Slides_files/figure-html/plot-state-election_auto_03_output-1.png" width="504" /&gt;
]

---
count: false
 
#Election Data Map
.panel1-plot-state-election-auto[

```r
ggplot(data = us_states_elec,
       mapping = aes(x = long,
                     y = lat,
                     group = group,
                     fill = r_points)) +
  geom_polygon(color = "gray90",
               size = 0.1) +
  coord_map(projection = "albers",
            lat0 = 39,
            lat1 = 45) +
* labs(title = "Election Results 2016",
*      fill = "Point Margin")
```
]
 
.panel2-plot-state-election-auto[
&lt;img src="Week-8-Slides_files/figure-html/plot-state-election_auto_04_output-1.png" width="504" /&gt;
]

---
count: false
 
#Election Data Map
.panel1-plot-state-election-auto[

```r
ggplot(data = us_states_elec,
       mapping = aes(x = long,
                     y = lat,
                     group = group,
                     fill = r_points)) +
  geom_polygon(color = "gray90",
               size = 0.1) +
  coord_map(projection = "albers",
            lat0 = 39,
            lat1 = 45) +
  labs(title = "Election Results 2016",
       fill = "Point Margin")  +
* theme_map()
```
]
 
.panel2-plot-state-election-auto[
&lt;img src="Week-8-Slides_files/figure-html/plot-state-election_auto_05_output-1.png" width="504" /&gt;
]

---
count: false
 
#Election Data Map
.panel1-plot-state-election-auto[

```r
ggplot(data = us_states_elec,
       mapping = aes(x = long,
                     y = lat,
                     group = group,
                     fill = r_points)) +
  geom_polygon(color = "gray90",
               size = 0.1) +
  coord_map(projection = "albers",
            lat0 = 39,
            lat1 = 45) +
  labs(title = "Election Results 2016",
       fill = "Point Margin")  +
  theme_map() +
* theme(legend.position = "bottom")
```
]
 
.panel2-plot-state-election-auto[
&lt;img src="Week-8-Slides_files/figure-html/plot-state-election_auto_06_output-1.png" width="504" /&gt;
]

---
count: false
 
#Election Data Map
.panel1-plot-state-election-auto[

```r
ggplot(data = us_states_elec,
       mapping = aes(x = long,
                     y = lat,
                     group = group,
                     fill = r_points)) +
  geom_polygon(color = "gray90",
               size = 0.1) +
  coord_map(projection = "albers",
            lat0 = 39,
            lat1 = 45) +
  labs(title = "Election Results 2016",
       fill = "Point Margin")  +
  theme_map() +
  theme(legend.position = "bottom")
```
]
 
.panel2-plot-state-election-auto[
&lt;img src="Week-8-Slides_files/figure-html/plot-state-election_auto_07_output-1.png" width="504" /&gt;
]

&lt;style&gt;
.panel1-plot-state-election-auto {
  color: black;
  width: 49%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-plot-state-election-auto {
  color: black;
  width: 49%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-plot-state-election-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;




---

class: center, middle, inverse

# Lab Time

### Chapter 7

???

Need to set theme_map() in setup chunk

Section 7.3 Statebins - functions will not work


---

# Homework Assignment

**Task: ** Create 3 maps  

**Due: ** March 17, 2021 

[Rubric](https://bb.collegeforcreativestudies.edu/webapps/rubric/do/course/manageRubrics?dispatch=view&amp;context=course&amp;rubricId=_42755_1&amp;course_id=_35307_1)

**Notes**

- Use data from Chapter 7 but be sure to create different maps

- Use your resources: Healy, Google, Student Community BUT cite where you get code from if you copy it directly  

- See Blackboard assignment for a template `.Rmd` file

---

# Tasks to Complete

- Reading (Cairo - Chapter 10: Mapping Data)

- Homework #4

- Prepare for your Data Visualization of the Week




    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"img_dir": "img",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>

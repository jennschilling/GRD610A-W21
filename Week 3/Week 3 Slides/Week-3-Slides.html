<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>GRD 610A Data Visualization II</title>
    <meta charset="utf-8" />
    <meta name="author" content="Jenn Schilling" />
    <meta name="date" content="2021-02-03" />
    <script src="Week-3-Slides_files/header-attrs/header-attrs.js"></script>
    <link href="Week-3-Slides_files/countdown/countdown.css" rel="stylesheet" />
    <script src="Week-3-Slides_files/countdown/countdown.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# GRD 610A Data Visualization II
## Basic Charts in ggplot
### Jenn Schilling
### February 3, 2021

---






# Today

- Data Visualization of the Week  

- Discussion of Introduction and Chapter 1 of *The Truthful Art* (Cairo)  

- Basic Charts in ggplot - Chapter 3 of *Data Visualization* (Healy)  

---
# Revisit Padlet

[Data Visualization II Padlet](https://padlet.com/jschilling_ccs/mmzv9zg2ic8e6iqs)

#### What should we add?  

#### What new information have we gained this week? 

---

# Discussion

“A good visualization is:  
1. reliable information,  
2. visually encoded so relevant patterns become noticeable,  
3. organized in a way that enables at least some exploration, when it’s appropriate,  
4. and presented in an attractive manner, but always remembering that honesty, clarity, and depth come first.”  

From p. 12 of Cairo, A. (2016). *The truthful art: Data, charts, and maps for communication.* New Riders.


.center[
### Do you agree? Should anything be added?
]

---

# Discussion


**Candid communication:** "begin with the information and then...thoroughly analyze it to discover the messages worth spreading" (2016, Ciaro, *The Truthful Art*, p. 15)  


What do you think of the elements of journalism (p. 21)?  

--

How do these elements relate to this class?   

---

# Discussion

How do you define **data visualization** versus **infographic**?

--

What aspects of the data visualizations and infographics presented in Chapter 1 of *The Truthful Art* stood out to you?

--

**Some Interactive Examples**

[Periscope's "A World of Terror"](https://terror.periscopic.com/)  

[ProPublica's "Treatment Tracker"](https://projects.propublica.org/treatment/)  

[Wall Street Journal's "HealthCare.gov Explorer"](http://graphics.wsj.com/health-care-explorer/#/?age=30&amp;fips=01001&amp;metal_level=Silver)  

[The Guardian's "Beyond the Border"](https://www.theguardian.com/world/ng-interactive/2014/aug/06/-sp-texas-border-deadliest-state-undocumented-migrants)  

---

class: center, middle

# 15 Minute Break

<div class="countdown" id="timer_601738ad" style="right:37%;bottom:27%;" data-warnwhen="60">
<code class="countdown-time"><span class="countdown-digits minutes">15</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---

# Chapter 3: Make A Plot

![](img\\ch-03-ggplot-flow.png)
From p. 56 of Healy, K. (2019). *Data visualization: A practical introduction*. Princeton ; Oxford: Princeton University Press.

---

# Tidy Data

"In tidy data:  
1. Each variable forms a column.  
2. Each observation forms a row.  
3. Each type of observational unit forms a table."  

From p. 4 of Wickham, H. (2014). Tidy Data. *Journal of Statistical Software*, 59(10).

.center[
&lt;img src="img\tidy-1.png" width="90%" /&gt;

Figure 12.1 from [R for Data Science](https://r4ds.had.co.nz/tidy-data.html)

]
---

# Wide Data

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; country &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; 1952 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; 1957 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; 1962 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; 1967 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; 1972 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; 1977 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; 1982 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; 1987 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; 1992 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; 1997 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; 2002 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; 2007 &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 28.801 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30.332 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 31.997 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 34.020 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.088 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 38.438 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 39.854 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 40.822 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 41.674 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 41.763 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 42.129 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 43.828 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Albania &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 55.230 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 59.280 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 64.820 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 66.220 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 67.690 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 68.930 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 70.420 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 72.000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 71.581 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 72.950 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75.651 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 76.423 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Algeria &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 43.077 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 45.685 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 48.303 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 51.407 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 54.518 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 58.014 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 61.368 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 65.799 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 67.744 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 69.152 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 70.994 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 72.301 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Angola &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30.015 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 31.999 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 34.000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.985 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 37.928 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 39.483 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 39.942 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 39.906 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 40.647 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 40.963 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 41.003 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 42.731 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Argentina &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 62.485 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 64.399 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 65.142 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 65.634 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 67.065 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 68.481 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 69.942 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 70.774 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 71.868 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 73.275 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 74.340 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75.320 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Australia &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 69.120 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 70.330 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 70.930 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 71.100 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 71.930 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 73.490 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 74.740 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 76.320 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 77.560 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 78.830 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 80.370 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 81.235 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---

# Long Data 

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; country &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; year &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; lifeExp &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1952 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 28.801 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1957 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30.332 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1962 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 31.997 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1967 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 34.020 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1972 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.088 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1977 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 38.438 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;


---

# Tidy Data 

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; country &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; continent &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; year &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; lifeExp &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; pop &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; gdpPercap &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Asia &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1952 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 28.801 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8425333 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 779.4453 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Asia &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1957 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30.332 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9240934 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 820.8530 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Asia &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1962 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 31.997 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10267083 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 853.1007 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Asia &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1967 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 34.020 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 11537966 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 836.1971 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Asia &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1972 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.088 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 13079460 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 739.9811 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Afghanistan &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Asia &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1977 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 38.438 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 14880372 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 786.1134 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;


---

# Mapping Data

.pull-left[

```r
  p &lt;- ggplot(data = gapminder)

* p
```

ggplot knows the data, but not how to map it.

]
.pull-right[
&lt;img src="Week-3-Slides_files/figure-html/plot-no-mapping-1.png" width="504" /&gt;
]

---

# Mapping Data
.pull-left[

```r
  p &lt;- ggplot(data = gapminder,
*             mapping = aes(x = gdpPercap,
*                           y = lifeExp))

  p 
```

- ``aes()`` links variables to parts of the plot
 
- ggplot knows the data and how  to map it  
 
- BUT we have not provided information about what to draw

]
.pull-right[
&lt;img src="Week-3-Slides_files/figure-html/plot-mapping-added-1.png" width="504" /&gt;
]

---

# Drawing Data
.pull-left[

```r
  p &lt;- ggplot(data = gapminder,
              mapping = aes(x = gdpPercap,
                            y = lifeExp)) 

* p + geom_point()
```

Now ggplot knows the data, how to map it, and how to draw the plot (``geom_point()``)

]
.pull-right[
&lt;img src="Week-3-Slides_files/figure-html/plot-geom-added-1.png" width="504" /&gt;
]

---
# The ``ggplot`` Process

1. Tell the ``ggplot()`` function what our data is. (``data = ... ``)

2. Tell ``ggplot()`` what relationships we want to see.For convenience we will put the results of the first two steps in an object called ``p``.  (``mapping = aes(...)``)

3. Tell ``ggplot`` how we want to see the relationships in our data.  (``geom_...``)

4. Layer on geoms as needed, by adding them to the ``p`` object one at a time.  

5. Use some additional functions to adjust scales, labels, tick marks, titles. We’ll learn more about some of these functions shortly.

From p. 60 of Healy, K. (2019). *Data visualization: A practical introduction*. Princeton ; Oxford: Princeton University Press.

---


class: center, middle, inverse

# Lab Time


---

# Tasks to Complete

- Reading (see Syllabus)  

- Prepare for your Data Visualization of the Week  

- Practice R  


    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"img_dir": "img",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
